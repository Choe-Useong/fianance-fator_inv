# Finance Factor Investing ???щТ?쒗몴?믫뙥?겸넂諛깊뀒?ㅽ듃 ?뚯씠?꾨씪??

????μ냼???꾩옄怨듭떆(DART) ?띿뒪???뚯씪???뚯떛???뚭퀎 ??ぉ???뺢퇋?뷀븯怨??쒓?珥앹븸/嫄곕옒?湲?諛?媛寃??곗씠?곕? 寃고빀?섏뿬 ?⑺꽣瑜??곗텧???? 7??由щ갭?곗떛 洹쒖튃?쇰줈 諛깊뀒?ㅽ듃源뚯? ?섑뻾?섎뒗 ?쇰젴???뚯씠?꾨씪?몄쓣 ?닿퀬 ?덉뒿?덈떎.

二쇱슂 援ъ꽦? ?ㅼ쓬怨?媛숈뒿?덈떎.
- ?먯쿇: DART ?띿뒪??.txt) ??⑸웾 ?뚯씪 https://opendart.fss.or.kr/disclosureinfo/fnltt/dwld/main.do
- ?뺤젣: IFRS ?쒓렇/?쇰꺼 ?뺢퇋?? ?곌껐/蹂꾨룄 ?먮퀎, 鍮꾧툑???낆쥌 ?쒖쇅, 12??寃곗궛 ?꾪꽣 ??
- 議곗씤: KRX ?쒓?珥앹븸/嫄곕옒?湲?pykrx), ?붿큹 ?섏젙醫낃?(FinanceDataReader), 踰ㅼ튂留덊겕(yfinance)
- ?⑺꽣: SIZE, BM, GP_A, TURNOVER, MOM(J,S) ??(異붽??덉젙)
- ?댁슜: 7??由щ갭?곗떛, ?⑺꽣 ?ㅼ퐫???쒖????덉??쇱씠利? ?좊땲踰꾩뒪 ?꾪꽣留? ??媛以묓룊洹? 踰ㅼ튂留덊겕 鍮꾧탳

> ??⑸웾 ?곗씠??.txt, .parquet ????.gitignore???섑빐 踰꾩쟾愿由ъ뿉???쒖쇅?⑸땲?? 肄붾뱶留???μ냼???ы븿?⑸땲??

---

## ?대뜑 援ъ“

- `肄붾뱶/` ?뚯씠?꾨씪???ㅽ겕由쏀듃 紐⑥쓬
  - `1_?щТ?쒗몴?뺣━.py` ?먯쿇 DART .txt ??Parquet ?듯빀(`ALL.parquet`)
  - `2_寃利??쒖???py` 蹂닿퀬?쒕챸 ?쒖??? ?곌껐/蹂꾨룄 ?먮퀎, 二쇱옱臾??щ? 異붽?
  - `3_二쇱옱臾퀹FRS異붿텧.py` 二쇱옱臾?+ IFRS + ??곸떆???꾪꽣 ??`二쇱옱臾?IFRS_?먯껜?꾩쿂由?parquet`
  - `4_二쇱옱臾퀹FRS?몃텇?붿젙由?py` `ifrs_`/`ifrs-full_` ?묐몢 ?뺢퇋????`怨꾩젙肄붾뱶_?뺢퇋?? 異붽? ???
  - `5_?⑺꽣異붿텧.py` ?뚭퀎 ??ぉ 異붿텧(吏諛곗＜二쇱?遺? 留ㅼ텧珥앹씠???? 諛??ㅼ펷?덊넠 ?앹꽦(鍮꾧툑?? 12??寃곗궛)
  - `6_?쒖킑?뺣낫.py` pykrx濡?6??留?湲곗? ?쒖킑/嫄곕옒?湲??ㅻ깄?????⑺꽣 ?듯빀(`SIZE, BM, GP_A, TURNOVER`)
  - `7_?섏젙二쇨?.py` FinanceDataReader濡??쇰퀎 ???붿큹 ?섏젙醫낃? 吏묎퀎 ??`?붿큹_?섏젙醫낃?.parquet`
  - `8_紐⑤찘?吏?쒖텛媛.py` MOM(J,S) 怨꾩궛(?? 12/1, 12/6, 6/1) ??7???ㅻ깄??蹂묓빀
  - `9_諛깊뀒?ㅽ듃.py` ?좊땲踰꾩뒪 ?좏깮/?ㅼ퐫?대쭅/由щ갭?곗떛/?깃낵 ?곗텧 諛?踰ㅼ튂留덊겕 鍮꾧탳
  - `?덇굅??` 蹂댁“ ?ㅽ겕由쏀듃(肄붾뱶 移댄깉濡쒓렇 鍮뚮뱶/寃利???
- `肄붾뱶/catalogs/` 怨꾩젙/?곗뾽 肄붾뱶 移댄깉濡쒓렇(.xlsx)

> ?뚯씪紐?而щ읆? ?쒓? 湲곕컲?대ŉ, ?쇰? OS 肄섏넄?먯꽌 ?쒖떆媛 源⑥쭏 ???덉뒿?덈떎. ?뚯뒪 ?뚯씪? UTF-8濡???λ릺???덉뒿?덈떎.

---

## ?섏〈??

- Python 3.10+
- pandas, numpy, pyarrow, matplotlib
- pykrx, FinanceDataReader, yfinance

?ㅼ튂 ?덉떆
```
python -m venv .venv
.venv\Scripts\activate
pip install pandas numpy pyarrow matplotlib pykrx FinanceDataReader yfinance
```

---

## ?낅젰 ?곗씠?걔룰꼍濡?

媛??ㅽ겕由쏀듃 ?곷떒???끒룹텧??寃쎈줈 ?곸닔媛 ?뺤쓽?섏뼱 ?덉뒿?덈떎(Windows ?덈?寃쎈줈). ?섍꼍??留욊쾶 ?섏젙?섏꽭??
- ?먯쿇 DART ?띿뒪?? ?묒뾽 ?대뜑 ?섏쐞 `.txt` (cp949)
- 以묎컙/理쒖쥌 ?곗텧臾? Parquet (`ALL.parquet`, `二쇱옱臾?IFRS_?먯껜?꾩쿂由?parquet`, `?щТ?붿빟_?ㅼ펷?덊넠.parquet`, `?⑺꽣?듯빀_理쒖쥌.parquet`, `?⑺꽣?듯빀_理쒖쥌_withMOM.parquet`, `?붿큹_?섏젙醫낃?.parquet` ??
- 踰ㅼ튂留덊겕: `^KS11` (yfinance, ?붾퉰??

> 李멸퀬: 異뷀썑 `config.py` ?먮뒗 ?섍꼍蹂??湲곕컲?쇰줈 寃쎈줈 ?듯빀???먰븯?쒕㈃ ?붿껌 二쇱꽭??

---

## ?붾뱶?ъ뿏???ㅽ뻾 ?쒖꽌

### 1) ?먮낯?곗씠???듯빀 ??`肄붾뱶/1_?щТ?쒗몴?뺣━.py`
- cp949 ?띿뒪??.txt) ?ㅺ굔??諛곗튂濡??쎌뼱??`ALL.parquet` ???
- ?ㅻ뜑 ?뺣━, 怨듬갚/?좏겙 ?뺢퇋???ы븿

### 2) 蹂닿퀬?쒖쥌瑜?二쇱옱臾??뺣━ ??`肄붾뱶/2_寃利??쒖???py`
- 蹂닿퀬?쒕챸 ?뺢퇋?? ?곌껐/蹂꾨룄 ?먮퀎(`?곌껐`, `蹂꾨룄`, `湲고?`)
- 湲곗뾽횞蹂닿퀬湲곌컙 ?⑥쐞濡?二쇱옱臾??곌껐 ?곗꽑, ?놁쑝硫?蹂꾨룄)

### 3) 二쇱옱臾는텶FRS쨌?쒖옣 ?꾪꽣 ??`肄붾뱶/3_二쇱옱臾퀹FRS異붿텧.py`
- 二쇱옱臾?+ 紐⑺몴 蹂닿퀬???? ?곌껐?щТ?쒗몴) + ??곸떆??KOSPI/KOSDAQ) ?꾪꽣留?

### 4) IFRS ?쒓렇 ?뺢퇋????`肄붾뱶/4_二쇱옱臾퀹FRS?몃텇?붿젙由?py`
- `ifrs_`/`ifrs-full_` ?묐몢 ?쒓굅 ??`怨꾩젙肄붾뱶_?뺢퇋?? ??異붽? ???

### 5) ?뚭퀎 ??ぉ 異붿텧 ??`肄붾뱶/5_?⑺꽣異붿텧.py`
- 鍮꾧툑???낆쥌 ?쒖쇅, 12??寃곗궛留??ъ슜
- 吏諛곗＜二쇱?遺? 留ㅼ텧珥앹씠?????듭떖 ??ぉ 異붿텧(怨듭떇 IFRS ?쒓렇 ???쒓? ?쇰꺼 ??媛꾩젒??媛??곗텧 ?쒖쑝濡?

### 6) ?쒖킑/嫄곕옒?湲?寃고빀 ??`肄붾뱶/6_?쒖킑?뺣낫.py`
- pykrx 湲곗? 留ㅻ뀈 6??留덉?留??곸뾽???ㅻ깄?? ?쒓?珥앹븸, 嫄곕옒?湲?
- ?ㅼ쓬 ??由щ갭?곗떛 ?곕룄) ?⑺꽣? 留ㅼ묶?섏뿬 怨꾩궛
  - `SIZE = ln(?쒓?珥앹븸)`
  - `BM   = 吏諛곗＜二쇱?遺?/ ?쒓?珥앹븸`
  - `GP_A = 留ㅼ텧珥앹씠??/ ?먯궛珥앷퀎`
  - `TURNOVER = 嫄곕옒?湲?/ ?쒓?珥앹븸`

### 7) ?붿큹 ?섏젙醫낃? ??`肄붾뱶/7_?섏젙二쇨?.py`
- FinanceDataReader濡?醫낅ぉ蹂??쇰퀎 ???붿큹 Close 吏묎퀎

### 8) 紐⑤찘? 蹂묓빀 ??`肄붾뱶/8_紐⑤찘?吏?쒖텛媛.py`
- ?섏씡瑜좊줈 MOM(J,S) 怨꾩궛: `exp(sum(log(1+r))) - 1` (J媛쒖썡 ?꾩쟻, S媛쒖썡 ?ㅽ궢)
- 7???ㅻ깄?룹쓣 ?⑺꽣 ?뚯씠釉붿뿉 蹂묓빀(`..._withMOM.parquet`)

### 9) 諛깊뀒?ㅽ듃 ??`肄붾뱶/9_諛깊뀒?ㅽ듃.py`
- ?낅젰: `?붿큹_?섏젙醫낃?.parquet`, `?⑺꽣?듯빀_理쒖쥌_withMOM.parquet`
- ?뚮씪誘명꽣: ?⑺꽣 由ъ뒪?? ?좊땲踰꾩뒪 ?꾪꽣, ?쒖????꾩껜/?곗뾽蹂?zscore/rank), ?덉??쇱씠利? 寃고빀諛⑹떇(援먯쭛???ㅼ퐫??, 媛以묐갑?????ㅼ퐫??, 7??由щ갭?곗떛
- ?곗텧: ?붿닔?듬쪧, NAV, 踰ㅼ튂留덊겕(KOSPI) 鍮꾧탳 李⑦듃 諛?濡쒓렇

---

## ?⑺꽣 ?뺤쓽 ?붿빟

- `SIZE`     = ln(?쒓?珥앹븸) [6??留??ㅻ깄??
- `BM`       = 吏諛곗＜二쇱?遺?/ ?쒓?珥앹븸 (Book-to-Market)
- `GP_A`     = 留ㅼ텧珥앹씠??/ ?먯궛珥앷퀎 (Gross Profit over Assets)
- `TURNOVER` = 嫄곕옒?湲?/ ?쒓?珥앹븸
- `MOM_J_S`  = J媛쒖썡 ?꾩쟻?섏씡瑜? 理쒓렐 S媛쒖썡 ?ㅽ궢 (?? `MOM_12_1`, `MOM_12_6`, `MOM_6_1`)

> ?곗뾽 以묐┰?붽? ?꾩슂??寃쎌슦 `STD_METHOD`瑜?`ind_z`/`ind_rank`濡??ㅼ젙?섍퀬, `INDUSTRY_COL`???곗뾽?댁쓣 吏?뺥빀?덈떎.

---

## ?ъ슜 ?덉떆

1) 媛?곹솚寃쎄낵 ?⑦궎吏 ?ㅼ튂 ?? ?ㅽ겕由쏀듃 ?곷떒 寃쎈줈瑜??섍꼍??留욊쾶 ?섏젙?⑸땲??
2) ?쒖꽌?濡??ㅽ뻾?⑸땲??
```
python 肄붾뱶/1_?щТ?쒗몴?뺣━.py
python 肄붾뱶/2_寃利??쒖???py
python 코드/3_주재무판별.py
python 肄붾뱶/4_二쇱옱臾퀹FRS?몃텇?붿젙由?py
python 肄붾뱶/5_?⑺꽣異붿텧.py
python 肄붾뱶/6_?쒖킑?뺣낫.py
python 肄붾뱶/7_?섏젙二쇨?.py
python 肄붾뱶/8_紐⑤찘?吏?쒖텛媛.py
python 肄붾뱶/9_諛깊뀒?ㅽ듃.py
```
3) 諛깊뀒?ㅽ듃 ?뚮씪誘명꽣(?덉떆, `肄붾뱶/9_諛깊뀒?ㅽ듃.py`)瑜??꾩슂??留욊쾶 議곗젙?⑸땲??
   - `FACTORS = ["BM"]`
   - `FACTOR_FILTERS = {"SIZE": ("top_pct", 0.80)}`
   - `STD_METHOD = "ind_z"`, `DO_WINSOR=True`, `WINSOR_Q=(0.05, 0.95)`
   - `METHOD = "score"`, `WEIGHT_METHOD = "equal"`, `REB_MONTHS = [7]`

---

## 李멸퀬/?쒖빟

- ?곗씠??而ㅻ쾭由ъ?: ?ㅽ겕由쏀듃 湲곕낯媛믪? 2016???댄썑(媛寃㈑룹떆珥?, 7??由щ갭?곗떛 媛??
- ?낆쥌 ?꾪꽣: 湲덉쑖 愿???낆쥌 ?쒖쇅(?⑺꽣 ?쇨???紐⑹쟻)
- ?몄퐫?? ?먯쿇 .txt??`cp949`, Parquet? `pyarrow`
- 寃쎈줈: ?꾩옱 ?ㅽ겕由쏀듃???덈?寃쎈줈媛 諛뺥? ?덉쑝誘濡??ㅽ뻾 ??寃쎈줈 ?섏젙???꾩슂?⑸땲??
- ?ы쁽?? ?몃? API(pykrx, FinanceDataReader, yfinance) ?섏〈?쇰줈 ?쒖젏???곕씪 議고쉶 媛믪씠 ?щ씪吏????덉뒿?덈떎

---

## ?ㅼ쓬 ?④퀎 ?쒖븞(?듭뀡)

- 怨듯넻 `config.py` ?꾩엯(?곗씠??猷⑦듃, ?뚯씪紐? 由щ갭?곗떛/踰ㅼ튂留덊겕 ?ㅼ젙)
- 由ы룷???ㅽ겕由쏀듃 異붽?(?깃낵???쒕줈?곕떎???댁삤踰??덊듃留???
- ?좊땲踰꾩뒪쨌嫄곕옒鍮꾩슜쨌?곸옣?먯? 蹂댁젙 ???ㅺ굅???쒖빟 諛섏쁺
- ?뚯뒪??寃利앹슜 ?섑뵆 ?곗씠?곗뀑 ?쒖옉(寃쎈웾 CSV/Parquet)

---

## 諛깊뀒?ㅽ듃 寃곌낵

![Portfolio vs Benchmark](docs/portfolio_vs_benchmark.png)




